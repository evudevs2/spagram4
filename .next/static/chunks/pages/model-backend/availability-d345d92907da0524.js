(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1320],{627:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/model-backend/availability",function(){return a(8302)}])},9842:function(e,t,a){"use strict";var l=a(5893),i=a(7294),s=a(1163),n=a.n(s);let d=e=>{let t=t=>((0,i.useEffect)(()=>{let e=localStorage.getItem("token");e||n().push("/admin-backend/login")},[]),(0,l.jsx)(e,{...t}));return t};t.Z=d},9945:function(e,t,a){"use strict";a.d(t,{cf:function(){return l}});let l="https://spg2.netlify.app/"},6756:function(e,t,a){"use strict";a.d(t,{Z:function(){return v},y:function(){return x}});var l=a(5893),i=a(9008),s=a.n(i),n=a(5675),d=a.n(n),r=a(4085),o=a.n(r),c=a(5696),m=a.n(c),y=a(3712),u=a.n(y),h=a(1664),p=a.n(h);let x="Muew Muew site title";function v(e){let{children:t,home:a,availability:i}=e;return(0,l.jsxs)("div",{className:i?o().container:o().containerAvail,children:[(0,l.jsxs)(s(),{children:[(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,l.jsx)("meta",{name:"description",content:"Learn how to build a personal website using Next.js"}),(0,l.jsx)("meta",{property:"og:image",content:"https://og-image.vercel.app/".concat(encodeURI(x),".png?theme=light&md=0&fontSize=75px&images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg")}),(0,l.jsx)("meta",{name:"og:title",content:x}),(0,l.jsx)("meta",{name:"twitter:card",content:"summary_large_image"})]}),(0,l.jsx)("header",{className:o().header,children:a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{children:" Model Backend "}),(0,l.jsxs)("ul",{className:"menu",children:[(0,l.jsxs)("li",{children:[" ",(0,l.jsx)(p(),{href:"/admin-backend",children:" Home "})," "]}),(0,l.jsxs)("li",{children:[" ",(0,l.jsx)(p(),{href:"/admin-backend/logout",children:" Logout "})," "]})]}),(0,l.jsx)("h1",{className:m().heading2Xl,children:"Massage at Home"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p(),{href:"/",children:(0,l.jsx)(d(),{priority:!0,src:"/images/logo.png",className:m().borderCircle,height:81,width:300,alt:""})}),(0,l.jsxs)("ul",{className:"menu",children:[(0,l.jsxs)("li",{children:[" ",(0,l.jsx)(p(),{href:"/",children:" Home "})," "]}),(0,l.jsxs)("li",{children:[" ",(0,l.jsx)(p(),{href:"/",children:" Visit frontend site "})," "]}),(0,l.jsxs)("li",{children:[" ",(0,l.jsx)(p(),{href:"/support",children:" Contact Support "})," "]}),(0,l.jsxs)("li",{children:[" ",(0,l.jsx)(p(),{href:"/logout",children:" Logout "})," "]})]})]})}),(0,l.jsxs)("main",{className:"main-admin-layout",children:[(0,l.jsx)("section",{className:u().adminMenu,children:(0,l.jsxs)("ul",{children:[(0,l.jsx)(p(),{href:"/model-backend/orders",children:" Orders "}),(0,l.jsx)(p(),{href:"/model-backend/profile",children:" Profile Info "}),(0,l.jsx)(p(),{href:"/model-backend/availability",children:" Availability "})]})}),(0,l.jsx)("section",{children:t})]}),!a&&(0,l.jsx)("div",{className:o().backToHome,children:(0,l.jsx)(p(),{href:"/",children:"â† Back to home"})}),(0,l.jsx)("div",{className:"",children:" Footer goes here "})]})}},8302:function(e,t,a){"use strict";a.r(t);var l=a(5893),i=a(7294),s=a(9008),n=a.n(s),d=a(6756),r=a(9945),o=a(9842),c=a(9198),m=a.n(c);a(5828);var y=a(3712),u=a.n(y);a(8);var h=a(120),p=a(8379),x=a.n(p),v=a(8433);let _=()=>{let[e,t]=(0,i.useState)("https://tsm.spagram.com/api/models.php"),[a,s]=(0,i.useState)({modelId:"",availability:null}),[o,c]=(0,i.useState)(""),[y,p]=(0,i.useState)({modelId:"",availability:null}),[_,j]=(0,i.useState)({modelId:"",availability:null}),[g,S]=(0,i.useState)({everydayStart:"",everydayEnd:"",excludeEvery1:"",excludeEvery2:"",excludeFutureDate:null,excludeFutureRangeFrom:null,excludeFutureRangeTo:null}),[f,b]=(0,i.useState)(null),[E,k]=(0,i.useState)(new Date),[N,F]=(0,i.useState)(new Date),[w,M]=(0,i.useState)([]),[L,H]=(0,i.useState)(null),[C,T]=(0,i.useState)(!1),[I,D]=(0,i.useState)(null),[B,A]=(0,i.useState)(""),[W,R]=(0,i.useState)(""),[P,Z]=(0,i.useState)(null),O=e=>e.getHours()>12?"text-success":"text-error",X=r.cf+"images/loading.gif",Y="".concat(u().availList," ").concat(u().availList_header),U=e=>{"yes"==e.target.value?c(""):c("yes")},q=e=>{S({...g,[e.target.name]:e.target.value})};function z(e){console.log("date string unformated",e),console.log("date string formated",e=function(e,t){let a=new Date(e);function l(e,t){return e.toString().padStart(t,"0")}let i={yyyy:a.getFullYear(),MM:l(a.getMonth()+1,2),dd:l(a.getDate(),2),HH:l(a.getHours(),2),mm:l(a.getMinutes(),2),ss:l(a.getSeconds(),2)};return t.replace(/(yyyy|MM|dd|HH|mm|ss)/g,e=>i[e])}(e,"yyyy-MM-dd HH:mm"));let t=h.ou.fromFormat(e,"yyyy-MM-dd HH:mm",{zone:"America/New_York"}),a=t.toMillis();return console.log("Timestamp in EST timezone:",a),a}let G=e=>{let t=new Date(e),a=t.toLocaleString("en-CA",{timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1});return console.log(a),a},J=(e,t)=>{M(w.filter(t=>t.id!==e)),T(!0),b(121211122)},K=()=>{let e=x()();console.log("avail count",e),M([...w,{id:e,start:z(E),end:z(N)}])},Q=async e=>{void 0!==e&&e.preventDefault();try{H(!0);let e=localStorage.getItem("token");a.modelId=e,a.availability=JSON.stringify(w);let t=await v.Z.post("https://tsm.spagram.com/api/update-model-time.php",a);console.log("rest from php",t.data),H(!1),"1"==t.data&&console.log("updated the time")}catch(e){console.error(e)}T(!1)},V=async e=>{e.preventDefault();try{console.log("weeklydata",o),R("Saving.....");let e=localStorage.getItem("token");y.modelId=e,y.availability=JSON.stringify(o),console.log("to send unavail",y);let t=await v.Z.post("https://tsm.spagram.com/api/update-uncertain-unavailability.php",y);console.log("rest",t.data),"1"==t.data?R(" Uncertain unavailability saved."):Z("Uncertain unavailability could not saved. Please contact admin")}catch(e){console.error(e)}},$=async e=>{e.preventDefault();try{console.log("weeklydata",g),A("Saving.....");let e=localStorage.getItem("token");_.modelId=e,_.availability=JSON.stringify(g);let t=await v.Z.post("https://tsm.spagram.com/api/update-weekly-avail-time.php",_);console.log("rest",t.data),"1"==t.data?A("Weekly changes are successfully saved."):Z("Email/Password do not match. Please try again!")}catch(e){console.error(e)}};return(0,i.useEffect)(()=>{let e=localStorage.getItem("token");D("2024-02-19"),b(e);let t="https://tsm.spagram.com/api/single-model.php?id="+localStorage.getItem("token"),a=async e=>{try{H(!0);let e=await v.Z.get(t),a=e.data;console.log("received data",t,a),null!=a.availability&&(M(a.availability),console.log("hello",a.availableweekly,a.unavailable)),null!=a.availableweekly&&S(a.availableweekly),null!=a.unavailable&&c(a.unavailable),H(!1),Z(null)}catch(e){Z(e.message)}finally{H(!1)}};C?Q():a()},[f]),(0,l.jsxs)(d.Z,{availability:!0,children:[(0,l.jsx)(n(),{children:(0,l.jsx)("title",{children:d.y})}),(0,l.jsx)("h2",{children:" My Availability "}),(0,l.jsxs)("form",{className:u().unavailForm,onSubmit:V,children:["  ",(0,l.jsxs)("div",{className:u().unavailable,children:[" ",(0,l.jsx)("input",{type:"checkbox",name:"unavailable",checked:"yes"==o,value:o,onChange:U,id:"unavailable"})," ",(0,l.jsx)("label",{for:"unavailable",children:" Make me Unavailable for a uncertain period of time  "})," "]}),"  ",(0,l.jsx)("input",{className:u().weeklysavebtn,type:"submit",value:"Save"})," ",(0,l.jsxs)("p",{className:u().message,children:["  ",W," "]})," "]}),(0,l.jsx)("div",{class:u().daily,children:(0,l.jsxs)("form",{onSubmit:$,children:[(0,l.jsx)("strong",{children:" If your are almost everyday available "}),(0,l.jsxs)("p",{children:[" Everyday from (Weekly) ",(0,l.jsxs)("select",{className:u().everydayStart,name:"everydayStart",onChange:q,children:[(0,l.jsx)("option",{children:"Select"})," ",(0,l.jsx)("option",{selected:"9 am"===g.everydayStart,children:"9 am"}),(0,l.jsx)("option",{selected:"10 am"===g.everydayStart,children:"10 am"}),(0,l.jsx)("option",{selected:"11 am"===g.everydayStart,children:"11 am"}),(0,l.jsx)("option",{selected:"12 pm"===g.everydayStart,children:"12 pm"}),(0,l.jsx)("option",{selected:"1 pm"===g.everydayStart,children:"1 pm"}),(0,l.jsx)("option",{selected:"2 pm"===g.everydayStart,children:"2 pm"}),(0,l.jsx)("option",{selected:"3 pm"===g.everydayStart,children:"3 pm"}),(0,l.jsx)("option",{selected:"4 pm"===g.everydayStart,children:"4 pm"}),(0,l.jsx)("option",{selected:"5 pm"===g.everydayStart,children:"5 pm"}),(0,l.jsx)("option",{selected:"6 pm"===g.everydayStart,children:"6 pm"}),(0,l.jsx)("option",{selected:"7 pm"===g.everydayStart,children:"7 pm"}),(0,l.jsx)("option",{selected:"8 pm"===g.everydayStart,children:"8 pm"}),(0,l.jsx)("option",{selected:"9 pm"===g.everydayStart,children:"9 pm"}),(0,l.jsx)("option",{selected:"10 pm"===g.everydayStart,children:"10 pm"}),(0,l.jsx)("option",{selected:"11 pm"===g.everydayStart,children:"11 pm"}),(0,l.jsx)("option",{selected:"12 am"===g.everydayStart,children:"12 am"}),(0,l.jsx)("option",{selected:"1 am"===g.everydayStart,children:"1 am"}),(0,l.jsx)("option",{selected:"2 am"===g.everydayStart,children:"2 am"}),(0,l.jsx)("option",{selected:"3 am"===g.everydayStart,children:"3 am"}),(0,l.jsx)("option",{selected:"4 am"===g.everydayStart,children:"4 am"}),(0,l.jsx)("option",{selected:"5 am"===g.everydayStart,children:"5 am"}),(0,l.jsx)("option",{selected:"6 am"===g.everydayStart,children:"6 am"}),(0,l.jsx)("option",{selected:"7 am"===g.everydayStart,children:"7 am"}),(0,l.jsx)("option",{selected:"8 am"===g.everydayStart,children:"8 am"})," "]}),"to  ",(0,l.jsxs)("select",{className:u().everydayStart,name:"everydayEnd",onChange:q,children:[" ",(0,l.jsx)("option",{children:"Select"})," ",(0,l.jsx)("option",{selected:"9 am"===g.everydayEnd,children:"9 am"}),(0,l.jsx)("option",{selected:"10 am"===g.everydayEnd,children:"10 am"}),(0,l.jsx)("option",{selected:"11 am"===g.everydayEnd,children:"11 am"}),(0,l.jsx)("option",{selected:"12 pm"===g.everydayEnd,children:"12 pm"}),(0,l.jsx)("option",{selected:"1 pm"===g.everydayEnd,children:"1 pm"}),(0,l.jsx)("option",{selected:"2 pm"===g.everydayEnd,children:"2 pm"}),(0,l.jsx)("option",{selected:"3 pm"===g.everydayEnd,children:"3 pm"}),(0,l.jsx)("option",{selected:"4 pm"===g.everydayEnd,children:"4 pm"}),(0,l.jsx)("option",{selected:"5 pm"===g.everydayEnd,children:"5 pm"}),(0,l.jsx)("option",{selected:"6 pm"===g.everydayEnd,children:"6 pm"}),(0,l.jsx)("option",{selected:"7 pm"===g.everydayEnd,children:"7 pm"}),(0,l.jsx)("option",{selected:"8 pm"===g.everydayEnd,children:"8 pm"}),(0,l.jsx)("option",{selected:"9 pm"===g.everydayEnd,children:"9 pm"}),(0,l.jsx)("option",{selected:"10 pm"===g.everydayEnd,children:"10 pm"}),(0,l.jsx)("option",{selected:"11 pm"===g.everydayEnd,children:"11 pm"}),(0,l.jsx)("option",{selected:"12 am"===g.everydayEnd,children:"12 am"}),(0,l.jsx)("option",{selected:"1 am"===g.everydayEnd,children:"1 am"}),(0,l.jsx)("option",{selected:"2 am"===g.everydayEnd,children:"2 am"}),(0,l.jsx)("option",{selected:"3 am"===g.everydayEnd,children:"3 am"}),(0,l.jsx)("option",{selected:"4 am"===g.everydayEnd,children:"4 am"}),(0,l.jsx)("option",{selected:"5 am"===g.everydayEnd,children:"5 am"}),(0,l.jsx)("option",{selected:"6 am"===g.everydayEnd,children:"6 am"}),(0,l.jsx)("option",{selected:"7 am"===g.everydayEnd,children:"7 am"}),(0,l.jsx)("option",{selected:"8 am"===g.everydayEnd,children:"8 am"}),"  "]}),"   "]}),(0,l.jsxs)("p",{children:[" Exclude Every (Weekly)  ",(0,l.jsxs)("select",{className:u().everydayStart,name:"excludeEvery1",onChange:q,children:[(0,l.jsx)("option",{children:"Select"}),(0,l.jsx)("option",{selected:"Saturday"===g.excludeEvery1,children:"Saturday"}),(0,l.jsx)("option",{selected:"Sunday"===g.excludeEvery1,children:"Sunday"}),(0,l.jsx)("option",{selected:"Monday"===g.excludeEvery1,children:"Monday"}),(0,l.jsx)("option",{selected:"Tuesday"===g.excludeEvery1,children:"Tuesday"}),(0,l.jsx)("option",{selected:"Wednessday"===g.excludeEvery1,children:"Wednessday"}),(0,l.jsx)("option",{selected:"Thursday"===g.excludeEvery1,children:" Thursday"}),(0,l.jsx)("option",{selected:"Friday"===g.excludeEvery1,children:"Friday"})," "]})," "]}),(0,l.jsxs)("p",{children:[" Exclude Every (Weekly) ",(0,l.jsxs)("select",{className:u().everydayStart,name:"excludeEvery2",onChange:q,children:[" ",(0,l.jsx)("option",{children:"Select"}),(0,l.jsx)("option",{selected:"Saturday"===g.excludeEvery2,children:"Saturday"}),(0,l.jsx)("option",{selected:"Sunday"===g.excludeEvery2,children:"Sunday"}),(0,l.jsx)("option",{selected:"Monday"===g.excludeEvery2,children:"Monday"}),(0,l.jsx)("option",{selected:"Tuesday"===g.excludeEvery2,children:"Tuesday"}),(0,l.jsx)("option",{selected:"Wednessday"===g.excludeEvery2,children:"Wednessday"}),(0,l.jsx)("option",{selected:"Thursday"===g.excludeEvery2,children:" Thursday"}),(0,l.jsx)("option",{selected:"Friday"===g.excludeEvery2,children:"Friday"})," "]})," "]}),(0,l.jsxs)("p",{children:[" Exclude a future date ",(0,l.jsx)("input",{name:"excludeFutureDate",type:"date",value:g.excludeFutureDate,onChange:q})," "]}),(0,l.jsxs)("p",{children:[" Exclude a future date range; from: ",(0,l.jsx)("input",{name:"excludeFutureRangeFrom",type:"date",value:g.excludeFutureRangeFrom,onChange:q})," to ",(0,l.jsx)("input",{name:"excludeFutureRangeTo",type:"date",value:g.excludeFutureRangeTo,onChange:q}),"  "]}),(0,l.jsx)("input",{className:u().weeklysavebtn,type:"submit",value:"Save Changes"}),(0,l.jsxs)("p",{children:[" ",B," "]})]})}),(0,l.jsxs)("div",{class:u().sometimes,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:" If your are sometimes available "}),(0,l.jsxs)("ul",{className:Y,children:[" ",(0,l.jsx)("li",{className:u().timeList,children:" Start "})," ",(0,l.jsx)("li",{className:u().timeList,children:"End"})," "]}),w&&w.map(e=>(0,l.jsxs)("ul",{className:u().availList,children:[(0,l.jsxs)("li",{className:u().timeList,children:[" ",G(e.start)," "]}),(0,l.jsx)("li",{className:u().timeList,children:G(e.end)}),(0,l.jsxs)("li",{className:u().timeList,children:[" ",(0,l.jsx)("button",{onClick:()=>J(e.id,void 0),children:" Delete "})," "]})]},e.id))]}),(0,l.jsx)("form",{onSubmit:Q,children:(0,l.jsxs)("div",{className:u().availBox,children:[(0,l.jsxs)("div",{className:"timeBox",children:[(0,l.jsx)("div",{children:"Start Date"}),(0,l.jsx)(m(),{showTimeSelect:!0,timeFormat:"HH:mm",selected:E,onChange:e=>k(e),timeClassName:O,timeIntervals:60,dateFormat:"yyyy-MM-dd HH:mm"})]}),(0,l.jsxs)("div",{className:u().timeBox2,children:[(0,l.jsx)("div",{children:"End Date"}),(0,l.jsx)(m(),{showTimeSelect:!0,timeFormat:"HH:mm",selected:N,onChange:e=>F(e),timeClassName:O,timeIntervals:60,dateFormat:"yyyy-MM-dd HH:mm"})]}),(0,l.jsxs)("div",{class:"submitbox",children:[(0,l.jsx)("button",{type:"submit",className:u().save,onClick:K,children:" Add "}),L?(0,l.jsx)("img",{width:"30px",src:X}):" "]})]})})]})]})};t.default=(0,o.Z)(_)},4085:function(e){e.exports={container:"layout_container__S5Gb3",containerAvail:"layout_containerAvail__jm0PH",header:"layout_header__W7HmJ",backToHome:"layout_backToHome__MM7YF"}},3712:function(e){e.exports={profileEdit:"model_profileEdit___Ry4P",quickLinks:"model_quickLinks__Ttl38",availBox:"model_availBox__if0yk",availList:"model_availList__2Qyx9",timeList:"model_timeList__iF9q4",timeBox2:"model_timeBox2__1S6pe",save:"model_save__VthCG",table:"model_table__1h9W8",row:"model_row__lT8oF",header:"model_header__Gdsc0",cell:"model_cell__htixu",adminMenu:"model_adminMenu__NsAXz",servicesBack:"model_servicesBack__YLRLh",primary_area:"model_primary_area___2O77",lebeltop:"model_lebeltop__u3a_I",unavailable:"model_unavailable__naYlE",unavailForm:"model_unavailForm__cDvyK",daily:"model_daily__o1Ec7",sometimes:"model_sometimes__eIDRU",everydayStart:"model_everydayStart__U0Bye",weeklysavebtn:"model_weeklysavebtn__u0THK",message:"model_message__2ccKd",availList_header:"model_availList_header__CC4wD"}},5696:function(e){e.exports={heading2Xl:"utils_heading2Xl___9fFP",headingXl:"utils_headingXl__u25Y2",headingLg:"utils_headingLg__5535D",headingMd:"utils_headingMd__gD1Ok",borderCircle:"utils_borderCircle__s2nTm",colorInherit:"utils_colorInherit__mSH_x",padding1px:"utils_padding1px__PWQKR",list:"utils_list__4Mu4l",listItem:"utils_listItem__s2m6i",lightText:"utils_lightText__eUzGY",filterLabels:"utils_filterLabels__npb8L",filterLabel:"utils_filterLabel___Dnf7",models:"utils_models__QMfVj",model:"utils_model__zLfnH",modelimg:"utils_modelimg__tHqva",modeSingleimg:"utils_modeSingleimg__o8evx",location:"utils_location__A4WZv",modelimgCnt:"utils_modelimgCnt__3eqNL",modelName:"utils_modelName__Cat85",stype:"utils_stype__B7bG_",ethnicity:"utils_ethnicity__089qL"}}},function(e){e.O(0,[2678,4885,1664,5291,8433,959,5551,8960,2314,9774,2888,179],function(){return e(e.s=627)}),_N_E=e.O()}]);